#summary FFEAD Views


*FFEAD View* or *FView* is a strategy where major view handling code is generated by the Server, all you need to do is 
just write plain HTML pages and define a corresponding *fviews.xml* file, it also provides easy javascript ajax methods for 
DOM events. Arguments to be sent to the server and callback can also be specified.

Every page in the XML file has a backing Page (*TestPage*) class for handling the DOM AJAX events.

You can define Form backing beans in the configuration file (fview.xml) and define your Bean (*TestForm*) class and a 
controller (*TestFormController*) responsible for handling the Submit action of the form. The Data from the HTML form 
is automagically converted to the bean class and fed to the controller onSubmit method.

The only point to be noted is that the URL in the action attribute in the form should end with *.form* extension which should also be the case in the xml config file. Also note the mapping of the form input parameter names to the *TestForm* class properties. All javascript functions can be written in the functions tag inside the page element.

HTML Page (test.html)
{{{
<html>
	<head>
	</head>
	<body>
		<p id="para">sdfsadsa</p>
		<input type="text" value="sdfsa" id="text"/>
		<a id="link" href="#">Testing</a>
		<form id="tform" action="/default/test.form" method="get" >
			TextField: <input type="text" value="" name="txtField"/>
			NumField: <input type="text" value="" name="numField"/>
			ChooseField: <select name="selField"><option value="1">One</option><option value="2">Two</option></select>
			<input type="submit" value="Submit"/>
		</form>
	</body>
</html>
}}}

Example fview.xml
{{{
<fview>
	<page htm="test.html" class="TestPage">
		<event eid="text" type="onclick" func="textonclick" args="1,document.getElementById('link').innerText,'Hello'" cb="alert(response.responseText)"/>
		<event eid="link" type="onclick" func="linkonclick" cb="document.getElementById('para').innerHTML=response;alert(response.responseText)"/>
		<functions>
			<![CDATA[
				function test()
				{
					alert("Hello />");
				}
			]]>
		</functions>
		<form name="test.form" bean="TestForm" controller="TestFormController">
			<field name="txtField" prop="txt"/>
			<field name="numField" prop="num"/>
			<field name="selField" prop="che"/>
		</form>
	</page>	
</fview>
}}}

TestPage

HEADER FILE
{{{
#ifndef TESTPAGE_H_
#define TESTPAGE_H_
#include "string"
using namespace std;
class TestPage {
public:
	TestPage();
	virtual ~TestPage();
	string textonclick(int,string,string);
	int linkonclick();
};

#endif /* TESTPAGE_H_ */
}}}

CPP FILE
{{{
#include "TestPage.h"
TestPage::TestPage() {
	// TODO Auto-generated constructor stub

}

TestPage::~TestPage() {
	// TODO Auto-generated destructor stub
}

string TestPage::textonclick(int a,string b,string c)
{
	return "Test Successfull" + b + c;
}

int TestPage::linkonclick()
{
	return 12345;
}

}}}

TestForm

HEADER FILE
{{{
#ifndef TESTFORM_H_
#define TESTFORM_H_
#include "string"
using namespace std;

class TestForm {
	int num;
	string txt;
	string che;
public:
	TestForm();
	virtual ~TestForm();
	string getChe() const;
    int getNum() const;
    string getTxt() const;
    void setChe(string che);
    void setNum(int num);
    void setTxt(string txt);
};

#endif /* TESTFORM_H_ */
}}}

CPP FILE
{{{
#include "TestForm.h"
TestForm::TestForm() {
	// TODO Auto-generated constructor stub

}

string TestForm::getChe() const
{
    return che;
}

int TestForm::getNum() const
{
    return num;
}

string TestForm::getTxt() const
{
    return txt;
}

void TestForm::setChe(string che)
{
    this->che = che;
}

void TestForm::setNum(int num)
{
    this->num = num;
}

void TestForm::setTxt(string txt)
{
    this->txt = txt;
}

TestForm::~TestForm() {
	// TODO Auto-generated destructor stub
}
}}}


TestFormController

HEADER FILE
{{{
#ifndef TESTFORMCONTROLLER_H_
#define TESTFORMCONTROLLER_H_
#include "HttpResponse.h"
#include "TestForm.h"
#include "iostream"

class TestFormController {
public:
	TestFormController();
	virtual ~TestFormController();
	void onSubmit(void*,HttpResponse*);
};

#endif /* TESTFORMCONTROLLER_H_ */
}}}

CPP FILE
{{{
#include "TestFormController.h"

TestFormController::TestFormController() {
	// TODO Auto-generated constructor stub

}

TestFormController::~TestFormController() {
	// TODO Auto-generated destructor stub
}

void TestFormController::onSubmit(void* vform,HttpResponse* res)
{
	TestForm* form = (TestForm*)vform;
	res->setStatusCode("200");
	res->setStatusMsg("OK");
	res->setContent_type("text/plain");
	res->setContent_str(form->getTxt()+form->getChe());
	cout << form->getTxt()+form->getChe() << "inside TestFormController" << endl;
}

}}}